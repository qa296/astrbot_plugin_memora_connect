# AstrBot Memora Connect

<div align="center">

![AstrBot Memora Connect](https://img.shields.io/badge/AstrBot-Memora%20Connect-blue?style=for-the-badge&logo=robot&logoColor=white)
![Version](https://img.shields.io/badge/version-v0.3.1-green?style=for-the-badge)

**æ¨¡ä»¿äººç±»è®°å¿†æ–¹å¼çš„æ™ºèƒ½è®°å¿†æ’ä»¶**

[åŠŸèƒ½ç‰¹æ€§](#åŠŸèƒ½ç‰¹æ€§)  â€¢ [ä½¿ç”¨æŒ‡å—](#ä½¿ç”¨æŒ‡å—) â€¢ [é…ç½®è¯´æ˜](#é…ç½®è¯´æ˜)

</div>

---

## ğŸ“– é¡¹ç›®ç®€ä»‹

AstrBot Memora Connect æ˜¯ä¸€ä¸ªä¸º AstrBot è®¾è®¡çš„é«˜çº§è®°å¿†æ’ä»¶ï¼Œé€šè¿‡æ¨¡ä»¿äººç±»æµ·é©¬ä½“çš„è®°å¿†æœºåˆ¶ï¼Œä¸º AI åŠ©æ‰‹æä¾›æŒä¹…åŒ–ã€æ™ºèƒ½åŒ–çš„è®°å¿†èƒ½åŠ›ã€‚è¯¥æ’ä»¶èƒ½å¤Ÿè‡ªåŠ¨ä»å¯¹è¯ä¸­æå–å…³é”®ä¿¡æ¯ï¼Œå½¢æˆç»“æ„åŒ–çš„è®°å¿†ç½‘ç»œï¼Œå¹¶æ”¯æŒå¤šç§å›å¿†æ¨¡å¼å’Œæ™ºèƒ½æ£€ç´¢ã€‚

### ğŸ¯ æ ¸å¿ƒç‰¹æ€§

- **ğŸ§  æ™ºèƒ½è®°å¿†å½¢æˆ**ï¼šè‡ªåŠ¨ä»å¯¹è¯ä¸­æå–å…³é”®ä¿¡æ¯ï¼Œå½¢æˆä¸°å¯Œçš„è®°å¿†å†…å®¹
- **ğŸ” å¤šæ¨¡å¼å›å¿†**ï¼šæ”¯æŒç®€å•å…³é”®è¯ã€LLM æ™ºèƒ½å’ŒåµŒå…¥å‘é‡ä¸‰ç§å›å¿†æ¨¡å¼
- **ğŸŒ çŸ¥è¯†å›¾è°±**ï¼šæ„å»ºæ¦‚å¿µé—´çš„å…³è”ç½‘ç»œï¼Œæ”¯æŒè”æƒ³è®°å¿†
- **ğŸ‘¥ ç¾¤èŠéš”ç¦»**ï¼šä¸åŒç¾¤èŠçš„è®°å¿†å¯ä»¥éš”ç¦».
- **ğŸ‘¤ å°è±¡ç³»ç»Ÿ**ï¼šè®°å½•å’Œç®¡ç†å¯¹äººç‰©çš„å¥½æ„Ÿåº¦å’Œå°è±¡
- **âš¡ æ€§èƒ½ä¼˜åŒ–**ï¼šåµŒå…¥å‘é‡ç¼“å­˜ã€æ‰¹é‡å¤„ç†ã€å¼‚æ­¥ä¼˜åŒ–
- **ğŸ”„ è®°å¿†ç»´æŠ¤**ï¼šè‡ªåŠ¨é—å¿˜ã€è®°å¿†æ•´ç†å’Œåˆå¹¶æœºåˆ¶

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ§  è®°å¿†ç³»ç»Ÿ
- **è‡ªåŠ¨è®°å¿†å½¢æˆ**ï¼šæ¯éš”Nè½®å¯¹è¯è‡ªåŠ¨æå–ä¸€æ¬¡è®°å¿†
- **ä¸°å¯Œè®°å¿†å†…å®¹**ï¼šæ”¯æŒå‚ä¸è€…ã€åœ°ç‚¹ã€æƒ…æ„Ÿã€æ ‡ç­¾ç­‰å¤šç»´åº¦ä¿¡æ¯
- **è®°å¿†å¼ºåº¦ç®¡ç†**ï¼šæ¨¡æ‹Ÿäººç±»è®°å¿†çš„å¼ºåº¦è¡°å‡å’Œå¼ºåŒ–æœºåˆ¶
- **è®°å¿†æ•´ç†åˆå¹¶**ï¼šæ™ºèƒ½åˆå¹¶ç›¸ä¼¼è®°å¿†ï¼Œä¿æŒè®°å¿†åº“çš„ç®€æ´æ€§

### ğŸ” å›å¿†æœºåˆ¶
- **ç®€å•æ¨¡å¼**ï¼šåŸºäºå…³é”®è¯åŒ¹é…çš„å¿«é€Ÿå›å¿†
- **LLM æ™ºèƒ½æ¨¡å¼**ï¼šä½¿ç”¨å¤§è¯­è¨€æ¨¡å‹è¿›è¡Œæ™ºèƒ½è¯­ä¹‰å›å¿†
- **åµŒå…¥å‘é‡æ¨¡å¼**ï¼šåŸºäºè¯­ä¹‰ç›¸ä¼¼åº¦çš„å‘é‡æ£€ç´¢
- **è”æƒ³å›å¿†**ï¼šé€šè¿‡çŸ¥è¯†å›¾è°±è¿›è¡Œå…³è”è®°å¿†æ£€ç´¢
- **æ—¶é—´å…³è”**ï¼šåŸºäºæ—¶é—´ç»´åº¦çš„è®°å¿†å¬å›

### ğŸŒ çŸ¥è¯†å›¾è°±
- **æ¦‚å¿µç½‘ç»œ**ï¼šæ„å»ºæ¦‚å¿µé—´çš„æœ‰å‘å›¾ç»“æ„
- **è¿æ¥å¼ºåº¦**ï¼šåŠ¨æ€è°ƒæ•´æ¦‚å¿µé—´çš„å…³è”å¼ºåº¦
- **æ¿€æ´»æ‰©æ•£**ï¼šæ¨¡æ‹Ÿäººè„‘çš„æ¿€æ´»æ‰©æ•£å›å¿†æœºåˆ¶
- **å›¾ä¼˜åŒ–**ï¼šé‚»æ¥è¡¨ç»“æ„ï¼Œé«˜æ•ˆçš„å›¾éå†ç®—æ³•

### ğŸ‘¥ ç¾¤èŠéš”ç¦»
- **ç‹¬ç«‹å­˜å‚¨**ï¼šæ¯ä¸ªç¾¤èŠä½¿ç”¨ç‹¬ç«‹çš„æ•°æ®åº“æ–‡ä»¶
- **è®°å¿†éš”ç¦»**ï¼šç¾¤èŠé—´è®°å¿†å®Œå…¨éš”ç¦»ï¼Œé˜²æ­¢ä¿¡æ¯æ³„éœ²
- **è‡ªåŠ¨ç®¡ç†**ï¼šè‡ªåŠ¨è¯†åˆ«ç¾¤èŠ IDï¼ŒåŠ¨æ€åˆ‡æ¢æ•°æ®åº“
- **ç»Ÿä¸€æ¥å£**ï¼šå¯¹ä¸Šå±‚æä¾›ç»Ÿä¸€çš„è®°å¿†è®¿é—®æ¥å£

### ğŸ‘¤ å°è±¡ç³»ç»Ÿ
- **äººç‰©å°è±¡**ï¼šè®°å½•å¯¹äººç‰©çš„å¥½æ„Ÿåº¦å’Œå°è±¡æ‘˜è¦
- **åŠ¨æ€è°ƒæ•´**ï¼šæ”¯æŒå¥½æ„Ÿåº¦çš„åŠ¨æ€å¢å‡è°ƒæ•´
- **å°è±¡å†å²**ï¼šç»´æŠ¤å°è±¡å˜æ›´çš„å†å²è®°å½•
- **æ™ºèƒ½æ³¨å…¥**ï¼šåœ¨å¯¹è¯ä¸­è‡ªåŠ¨æ³¨å…¥ç›¸å…³äººç‰©å°è±¡

### âš¡ æ€§èƒ½ä¼˜åŒ–
- **åµŒå…¥å‘é‡ç¼“å­˜**ï¼šé¢„è®¡ç®—å¹¶ç¼“å­˜è®°å¿†çš„åµŒå…¥å‘é‡
- **æ‰¹é‡å¤„ç†**ï¼šæ‰¹é‡è®°å¿†æå–å’Œæ•°æ®åº“æ“ä½œ
- **å¼‚æ­¥ä¼˜åŒ–**ï¼šéé˜»å¡çš„å¼‚æ­¥ä»»åŠ¡å¤„ç†
- **é˜Ÿåˆ—ç®¡ç†**ï¼šæ™ºèƒ½çš„ä»»åŠ¡é˜Ÿåˆ—å’Œä¼˜å…ˆçº§ç®¡ç†

---

## ğŸš€ å®‰è£…æŒ‡å—


### ğŸ”§ æ’ä»¶å®‰è£…

1. **ä¸‹è½½æ’ä»¶**
```bash
git clone https://github.com/qa296/astrbot_plugin_memora_connect.git
cd astrbot_plugin_memora_connect
```

2. **æ”¾ç½®æ’ä»¶ç›®å½•**
```bash
# å°†æ’ä»¶ç›®å½•å¤åˆ¶åˆ° AstrBot çš„æ’ä»¶ç›®å½•
cp -r astrbot_plugin_memora_connect /path/to/astrbot/plugins/
```

3. **å¯ç”¨æ’ä»¶**
```bash
# åœ¨ AstrBot é…ç½®ä¸­å¯ç”¨æ’ä»¶
# æˆ–é€šè¿‡ç®¡ç†ç•Œé¢å¯ç”¨ Memora Connect æ’ä»¶
```

4. **éªŒè¯å®‰è£…**
```bash
# å¯åŠ¨ AstrBot å¹¶æ£€æŸ¥æ’ä»¶æ˜¯å¦æ­£å¸¸åŠ è½½
# æŸ¥çœ‹æ—¥å¿—ç¡®è®¤æ’ä»¶åˆå§‹åŒ–æˆåŠŸ
```

---

## ğŸ® ä½¿ç”¨æŒ‡å—

### ğŸ’¬ åŸºæœ¬å‘½ä»¤

æ’ä»¶æä¾›äº† `/è®°å¿†` å‘½ä»¤ç»„ï¼ŒåŒ…å«ä»¥ä¸‹å­å‘½ä»¤ï¼š

#### ğŸ“ è®°å¿†å›å¿†
```bash
/è®°å¿† å›å¿† [å…³é”®è¯]
```
- **åŠŸèƒ½**ï¼šæ ¹æ®å…³é”®è¯å›å¿†ç›¸å…³è®°å¿†
- **å‚æ•°**ï¼šå…³é”®è¯ï¼ˆå¯é€‰ï¼Œä¸æä¾›æ—¶éšæœºå›å¿†ï¼‰
- **ç¤ºä¾‹**ï¼š
  ```
  /è®°å¿† å›å¿† é¡¹ç›®
  /è®°å¿† å›å¿†
  ```

#### ğŸ“Š è®°å¿†çŠ¶æ€
```bash
/è®°å¿† çŠ¶æ€
```
- **åŠŸèƒ½**ï¼šæ˜¾ç¤ºè®°å¿†åº“çš„ç»Ÿè®¡ä¿¡æ¯
- **è¾“å‡º**ï¼šè®°å¿†æ•°é‡ã€æ¦‚å¿µæ•°é‡ã€è¿æ¥æ•°é‡ç­‰

#### ğŸ‘¤ äººç‰©å°è±¡
```bash
/è®°å¿† å°è±¡ [äººç‰©åç§°]
```
- **åŠŸèƒ½**ï¼šæŸ¥è¯¢æŒ‡å®šäººç‰©çš„å°è±¡æ‘˜è¦å’Œç›¸å…³è®°å¿†
- **å‚æ•°**ï¼šäººç‰©åç§°
- **ç¤ºä¾‹**ï¼š
  ```
  /è®°å¿† å°è±¡ å¼ ä¸‰
  ```

### ğŸ¤– LLM å·¥å…·

#### æ’ä»¶ä¸º LLM æä¾›äº†ä»¥ä¸‹å·¥å…·å‡½æ•°ï¼š

ğŸ“ åˆ›å»ºè®°å¿†
ğŸ” å¬å›è®°å¿†
ğŸ‘¤ è°ƒæ•´å°è±¡
ğŸ“ è®°å½•å°è±¡

```

### ğŸ”„ è‡ªåŠ¨åŠŸèƒ½

æ’ä»¶åœ¨åå°è‡ªåŠ¨è¿è¡Œä»¥ä¸‹åŠŸèƒ½ï¼š

#### ğŸ’­ è‡ªåŠ¨è®°å¿†å½¢æˆ
- ç›‘å¬æ‰€æœ‰å¯¹è¯æ¶ˆæ¯
- æ ¹æ®é…ç½®çš„é—´éš”è‡ªåŠ¨æå–è®°å¿†
- æ”¯æŒæ‰¹é‡è®°å¿†æå–ï¼Œæé«˜æ•ˆç‡

#### ğŸ§  æ™ºèƒ½è®°å¿†æ³¨å…¥
- åœ¨ LLM è¯·æ±‚æ—¶è‡ªåŠ¨æ³¨å…¥ç›¸å…³è®°å¿†
- åŸºäºè¯­ä¹‰ç›¸ä¼¼åº¦é€‰æ‹©æœ€ç›¸å…³çš„è®°å¿†
- æ”¯æŒäººç‰©å°è±¡çš„è‡ªåŠ¨æ³¨å…¥

#### ğŸ”„ è®°å¿†ç»´æŠ¤
- å®šæœŸæ‰§è¡Œè®°å¿†æ•´ç†å’Œåˆå¹¶
- è‡ªåŠ¨é—å¿˜ä¸æ´»è·ƒçš„è®°å¿†
- ä¼˜åŒ–è®°å¿†å›¾ç»“æ„

## âš™ï¸ é…ç½®è¯´æ˜

### äººæ ¼æ³¨å…¥é…ç½®

- `enable_persona_injection_in_memory_generation`ï¼ˆé»˜è®¤ï¼š`true`ï¼‰
  - ä½œç”¨ï¼šåœ¨è¯é¢˜åˆ†æ/è®°å¿†ç”Ÿæˆé˜¶æ®µæ³¨å…¥äººæ ¼è®¾å®šï¼Œä½¿ç”Ÿæˆè®°å¿†æ›´è´´åˆå½“å‰äººæ ¼ã€‚
  - ä¼˜å…ˆçº§ï¼šä¼šè¯ç»‘å®šäººæ ¼ `persona_id` > é»˜è®¤äººæ ¼ï¼ˆ`get_default_persona_v3`ï¼‰> ä¸æ³¨å…¥ã€‚

---

<div align="center">

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·è€ƒè™‘ç»™æˆ‘ä»¬ä¸€ä¸ª Starï¼**

![Star History](https://img.shields.io/github/stars/qa296/astrbot_plugin_memora_connect?style=social)

</div>
